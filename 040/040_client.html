<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>クライアント用HTMLデータ</title>

    <script type="text/javascript" src="/socket.io/socket.io.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>

    <!-- ■socket.ioを利用してサーバと通信を行う -->
    <script>

        $(document).ready(function () {
            // コネクションを作る(通信の開始)
            var socket = io.connect();

            /*
            クライアント側でのconsole.logは、ブラウザのコンソールに表示されます。
            ブラウザのコンソールで確認してください。
            */

            socket.on("connecting", function () {
                // 初めての接続時などに発生
                console.log("クライアント：コネクション確立中です。");
            });

            socket.on("connection", function () {
                // 初めての接続時などに発生
                console.log("クライアント：コネクションが確立されました。");
            });

            socket.on("disconnect", function () {
                // サーバを終了させると発生
                console.log("クライアント：コネクションが切断されました。");
            });

            socket.on("connect_failed", function () {
                // 未確認
                console.log("クライアント：コネクションの確率に失敗しました。");
            });

            socket.on("reconnecting", function () {
                // サーバを終了させると発生
                console.log("クライアント：コネクションを再確立中です。");
            });

            socket.on("reconnect", function () {
                // サーバを終了後、再度サーバを起動すると発生
                console.log("クライアント：コネクションを再確立しました。");
            });

        });
    </script>

</head>
<body>
    <p>クライアント用のHTMLデータです</p>
</body>
</html>